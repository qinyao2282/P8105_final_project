---
title: "Data_source"
author: "Haowei Ni"
date: "2018/11/19"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
library(dplyr)
library(stringr)
library(readr)
library(readxl)
```

Read original data 

```{r}
library(readr)
Heart_Disease =  read_csv("data /Heart_Disease_Mortality_Data_Among_US_Adults__35___by_State_Territory_and_County.csv")

```

Add air quality data 

```{r}
library(readr)
airquality_2015 = read_csv("data /airquality.csv") 
airquality = 
  airquality_2015 %>% 
  select(State, County, PM2.5)
 Heart = left_join(airquality, Heart_Disease) 
inner_join(airquality, Heart_Disease)  
anti_join(airquality, Heart_Disease) 
anti_join(airquality, Heart_Disease)
```

Add obesity data

```{r add_obesity_data}

obesity_data = read_csv("./data/National_Obesity_By_State.csv") %>%
  janitor::clean_names() %>%
  rename(state = name) %>%
  rename(obesity_percentage = obesity) %>%
  select(state, obesity_percentage)
  
```

Add stroke data

```{r add_stroke_data}
library(readr)
stroke_data = read_csv("data/Stroke_Mortality_Data_Among_US_Adults__35___by_State_Territory_and_County.csv") 
left_join(Heart_Disease,stroke_data)

```

Add income

```{r}

income_data = read_excel("data /income_2015.xlsx", range = "A3:D55") %>% 
  rename(LocationAbbr = Locationabbr)

data_with_income = left_join(Heart_Disease,income_data, by = "LocationAbbr")
```

